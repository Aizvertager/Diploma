!function(e){var t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=e=>{const t=document.getElementById(e),o=t.querySelectorAll("input"),n=document.createElement("div");t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(n);for(let e=0;e<o.length;e++)if(""===o[e].value)return o[e].style.cssText="border: 2px solid red",n.style.cssText="color:red",n.textContent="Заполните поля",!1;n.textContent="Ваш запрос обрабатывается",n.style.cssText="color:green;font-size:18px";const r=new FormData(t);let c={};r.forEach((e,t)=>{c[t]=e}),l(c).then(e=>{if(200!==e.status)throw new Error("status network not 200");n.textContent="Ваша заявка принята",n.style.cssText="color:green;font-size:18px",200===e.status&&(t.reset(),o.forEach(e=>{e.style.cssText="border: 1px solid #ddd;"}))}).catch(e=>{n.style.cssText="color: red",n.textContent="Произошла ошибка, проверьте правильно ли введены данные",console.error(e)})});const l=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var l=()=>{document.querySelectorAll(".phone-user").forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^0-9\+]/,"")})}),document.querySelectorAll('input[placeholder="Ваше имя"]').forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^а-яё\s]/gi,"")})})};var r=(e,t)=>{const o=document.querySelectorAll(e),n=document.querySelector(t);o.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n.style.display="block",n.addEventListener("click",e=>{let o=e.target;o.matches(".popup-close")?n.style.display="none":o.matches(t)&&(n.style.display="none")})})})};var c=()=>{const e=document.querySelector(".add-sentence-btn"),t=document.querySelectorAll(".shadow-block");e.addEventListener("click",()=>{t.forEach(t=>{let o=t.parentNode;o.classList.contains("hidden")&&(o.classList.remove("hidden"),e.style.display="none")})})};var s=(e,t,o)=>{const n=document.getElementById(e),l=document.querySelectorAll(t),r=document.querySelectorAll(o);n.addEventListener("click",e=>{let o=e.target;(o=o.closest(t))&&l.forEach((e,t)=>{e===o&&r.forEach((e,o)=>{e.style.display=t===o?"block":"none"})})})};var d=e=>{const t=document.getElementById(e),o=t.querySelectorAll("input"),n=document.querySelector(".director-question"),l=document.createElement("div");t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(l);for(let e=0;e<o.length;e++)if(""===o[e].value)return o[e].style.cssText="border: 2px solid red",l.style.cssText="color:red",l.textContent="Заполните поля",!1;l.textContent="Ваш запрос обрабатывается",l.style.cssText="color:green;font-size:18px";const c=new FormData(t);c.append("Question",n.value);let s={};c.forEach((e,t)=>{s[t]=e}),r(s).then(e=>{if(200!==e.status)throw new Error("status network not 200");l.textContent="Ваша заявка принята",l.style.cssText="color:green;font-size:18px",200===e.status&&(t.reset(),o.forEach(e=>{e.style.cssText="border: 1px solid #ddd;"}))}).catch(e=>{l.style.cssText="color: red",l.textContent="Произошла ошибка, проверьте правильно ли введены данные",console.error(e)})});const r=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var a=()=>{const e=document.querySelectorAll(".construct-btn"),t=document.querySelectorAll(".panel-collapse-two");e.forEach((e,o)=>{let n=t.length;e.addEventListener("click",()=>{for(let e=0;e<t.length;e++)t[e].style.display="none",o===e?t[++e].style.display="block":3===o&&(n.style.display="block")})});const o=document.getElementById("accordion"),n=document.getElementById("second-well");n.style.display="none",o.addEventListener("change",e=>{let t=e.target;t.matches("#myonoffswitch")&&(t.checked?n.style.display="none":n.style.display="block"),(t.matches("#myonoffswitch")||t.matches(".form-control")||t.matches("#myonoffswitch-two")||t.matches("#homeDistance"))&&v()});const l=document.getElementById("myonoffswitch"),r=document.getElementById("myonoffswitch-two"),c=document.querySelectorAll(".form-control"),s=document.getElementById("calc-result"),d=document.getElementById("homeDistance"),a={};let u,i,p,y=c[0].options[c[0].selectedIndex].value,f=c[1].options[c[1].selectedIndex].value,m=c[2].options[c[2].selectedIndex].value,h=c[3].options[c[3].selectedIndex].value;const v=()=>{l.checked?(u=1e4,i="Однокамерный колодец",console.log("typeWell: ",i),"2 метра"===y&&(u+=.2*u,"2 штуки"===f?u+=.3*u:"3 штуки"===f&&(u+=.5*u))):(u=15e3,i="Двухкамерный колодец",console.log("typeWell: ",i),"2 метра"===y&&(u+=.2*u,"2 штуки"===f?u+=.3*u:"3 штуки"===f&&(u+=.5*u)),"2 метра"===m&&(u+=.2*u,"2 штуки"===h?u+=.3*u:"3 штуки"===h&&(u+=.5*u))),r.checked?(u+=1e3,p="Есть дно",console.log("checkBottom: ",p)):(u+=2e3,p="Нету дна",console.log("checkBottom: ",p)),console.log(d.value),s.value=u,a.typeWell=i,a.firstSelect=y,a.secondSelect=f,a.thirdSelect=m,a.fourthSelect=h,a.checkBottom=p,a.homeDistance=d.value,a.calcResult=s.value};return a};var u=(e,t)=>{const o=t;console.log("vl: ",o);const n=document.getElementById(e),l=n.querySelectorAll("input"),r=document.createElement("div");n.addEventListener("submit",e=>{e.preventDefault(),n.appendChild(r);for(let e=0;e<l.length;e++)if(""===l[e].value)return l[e].style.cssText="border: 2px solid red",r.style.cssText="color:red",r.textContent="Заполните поля",!1;r.textContent="Ваш запрос обрабатывается",r.style.cssText="color:green;font-size:18px";const t=new FormData(n);let s={};t.forEach((e,t)=>{s[t]=e});let d={...s,...o};console.log(d),c(d).then(e=>{if(200!==e.status)throw new Error("status network not 200");r.textContent="Ваша заявка принята",r.style.cssText="color:green;font-size:18px",200===e.status&&(n.reset(),l.forEach(e=>{e.style.cssText="border: 1px solid #ddd;"}))}).catch(e=>{r.style.cssText="color: red",r.textContent="Произошла ошибка, проверьте правильно ли введены данные",console.error(e)})});const c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};(()=>{document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})})})(),n("formMain"),n("formCall"),n("formCallSecond"),n("formCheck"),l(),r("#call-btn",".popup-call"),r(".discount-btn",".popup-discount"),r(".check-btn",".popup-check"),r(".director-btn",".popup-consultation"),r(".call-btn",".popup-discount"),c(),s("accordion",".panel-heading-two",".panel-collapse-two"),s("accordion-two",".panel-heading",".panel-collapse"),d("director-form"),u("formDiscount",a())}]);