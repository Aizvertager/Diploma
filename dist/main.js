!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=e=>{const t=document.getElementById(e),o=t.querySelectorAll("input"),n=document.createElement("div");t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(n);for(let e=0;e<o.length;e++)if(""===o[e].value)return o[e].style.cssText="border: 2px solid red",n.style.cssText="color:red",n.textContent="Заполните поля",!1;n.textContent="Ваш запрос обрабатывается",n.style.cssText="color:green;font-size:18px";const l=new FormData(t);let c={};l.forEach((e,t)=>{c[t]=e}),r(c).then(e=>{if(200!==e.status)throw new Error("status network not 200");n.textContent="Ваша заявка принята",n.style.cssText="color:green;font-size:18px",200===e.status&&(t.reset(),o.forEach(e=>{e.style.cssText="border: 1px solid #ddd;"}))}).catch(e=>{n.style.cssText="color: red",n.textContent="Произошла ошибка, проверьте правильно ли введены данные",console.error(e)})});const r=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var r=()=>{document.querySelectorAll(".phone-user").forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^0-9\+]/,"")})}),document.querySelectorAll('input[placeholder="Ваше имя"]').forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^а-яё\s]/gi,"")})})};var l=(e,t)=>{const o=document.querySelectorAll(e),n=document.querySelector(t);o.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n.style.display="block",n.addEventListener("click",e=>{let o=e.target;o.matches(".popup-close")?n.style.display="none":o.matches(t)&&(n.style.display="none")})})})};var c=()=>{const e=document.querySelector(".add-sentence-btn"),t=document.querySelectorAll(".shadow-block");e.addEventListener("click",()=>{t.forEach(t=>{let o=t.parentNode;o.classList.contains("hidden")&&(o.classList.remove("hidden"),e.style.display="none")})})};var s=(e,t,o)=>{const n=document.getElementById(e),r=document.querySelectorAll(t),l=document.querySelectorAll(o);n.addEventListener("click",e=>{let o=e.target;(o=o.closest(t))&&r.forEach((e,t)=>{e===o&&l.forEach((e,o)=>{e.style.display=t===o?"block":"none"})})})};var d=e=>{const t=document.getElementById(e),o=t.querySelectorAll("input"),n=document.querySelector(".director-question"),r=document.createElement("div");t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(r);for(let e=0;e<o.length;e++)if(""===o[e].value)return o[e].style.cssText="border: 2px solid red",r.style.cssText="color:red",r.textContent="Заполните поля",!1;r.textContent="Ваш запрос обрабатывается",r.style.cssText="color:green;font-size:18px";const c=new FormData(t);c.append("Question",n.value);let s={};c.forEach((e,t)=>{s[t]=e}),l(s).then(e=>{if(200!==e.status)throw new Error("status network not 200");r.textContent="Ваша заявка принята",r.style.cssText="color:green;font-size:18px",200===e.status&&(t.reset(),o.forEach(e=>{e.style.cssText="border: 1px solid #ddd;"}))}).catch(e=>{r.style.cssText="color: red",r.textContent="Произошла ошибка, проверьте правильно ли введены данные",console.error(e)})});const l=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var a=()=>{const e=document.querySelectorAll(".construct-btn"),t=document.querySelectorAll(".panel-collapse-two");e.forEach((e,o)=>{let n=t.length;e.addEventListener("click",()=>{for(let e=0;e<t.length;e++)t[e].style.display="none",o===e?t[++e].style.display="block":3===o&&(n.style.display="block")})});const o=document.getElementById("accordion"),n=document.getElementById("second-well");n.style.display="none",o.addEventListener("change",e=>{let t=e.target;t.matches("#myonoffswitch")&&(t.checked?n.style.display="none":n.style.display="block"),(t.matches("#myonoffswitch")||t.matches(".form-control")||t.matches("#myonoffswitch-two")||t.matches("#homeDistance"))&&i()});const r=document.getElementById("myonoffswitch"),l=document.getElementById("myonoffswitch-two"),c=document.querySelectorAll(".form-control"),s=document.getElementById("calc-result"),d=document.getElementById("homeDistance"),a={},i=()=>{let e,t,o,n=c[0].options[c[0].selectedIndex].value,i=c[1].options[c[1].selectedIndex].value,u=c[2].options[c[2].selectedIndex].value,p=c[3].options[c[3].selectedIndex].value;r.checked?(e=1e4,t="Однокамерный колодец",u="",p="","2 метра"===n&&(e+=.2*e,"2 штуки"===i?e+=.3*e:"3 штуки"===i&&(e+=.5*e))):(e=15e3,t="Двухкамерный колодец",a.diametrSecond=u,a.countRingsTwo=p,"2 метра"===n&&(e+=.2*e,"2 штуки"===i?e+=.3*e:"3 штуки"===i&&(e+=.5*e)),"2 метра"===u&&(e+=.2*e,"2 штуки"===p?e+=.3*e:"3 штуки"===p&&(e+=.5*e))),l.checked?(e+=1e3,o="Есть дно"):(e+=2e3,o="Нету дна"),s.value=e,a.typeWell=t,a.diametrFirst=n,a.countRingsFirst=i,a.checkBottom=o,a.homeDistance=d.value,a.calcResult=s.value};return a};var i=(e,t)=>{let o=t;const n=document.getElementById(e),r=n.querySelectorAll("input"),l=document.createElement("div");n.addEventListener("submit",e=>{e.preventDefault(),n.appendChild(l);for(let e=0;e<r.length;e++)if(""===r[e].value)return r[e].style.cssText="border: 2px solid red",l.style.cssText="color:red",l.textContent="Заполните поля",!1;l.textContent="Ваш запрос обрабатывается",l.style.cssText="color:green;font-size:18px";const t=new FormData(n);let s={};t.forEach((e,t)=>{s[t]=e});let d={...s,...o};c(d).then(e=>{if(200!==e.status)throw new Error("status network not 200");l.textContent="Ваша заявка принята",l.style.cssText="color:green;font-size:18px",200===e.status&&(n.reset(),r.forEach(e=>{e.style.cssText="border: 1px solid #ddd;"}))}).catch(e=>{l.style.cssText="color: red",l.textContent="Произошла ошибка, проверьте правильно ли введены данные",console.error(e)})});const c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};(()=>{document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})})})(),n("formMain"),n("formCall"),n("formCallSecond"),n("formCheck"),r(),l("#call-btn",".popup-call"),l(".discount-btn",".popup-discount"),l(".check-btn",".popup-check"),l(".director-btn",".popup-consultation"),l(".call-btn",".popup-discount"),c(),s("accordion",".panel-heading-two",".panel-collapse-two"),s("accordion-two",".panel-heading",".panel-collapse"),d("director-form"),i("formDiscount",a())}]);